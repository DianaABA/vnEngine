corrected · TXT
Copy

(* 🌿 CHAKRA HEARTS — EPISODE 5: The Crystal of Truth — Throat Chakra (Vishuddha)
   Transition Episode between Desert and Cosmic Realms
   Focus: Throat Chakra — Truth, Expression, Resonance
   Theme: Voice revealed, truth spoken, alignment achieved *)

(* ---------- ENGINE HOOKS (stubs) ---------- *)
let unlock_art (_:string) (_:string) = ()
let award_badge (_:string) (_:string) = ()
let unlock_codex_entry (_:string) (_:string) = ()
let set_flag (_:string) (_:bool) = ()
let get_flag (_:string) = false
let add_karma (_:int) = ()
let add_romance (_:string) (_:int) = ()
let show_image (_:string) = ()
let caption (_:string) = ()
let dialogue (_:string) (_:string) (_:string) = ()
let pause (_:int) = ()
let fade_to_black () = ()
let sfx (_:string) = ()
let vfx (_:string) = ()
let t (_:string) = ()
let ui (_:string) = ()
let player_choice () = 0
let goto (_:string) = ()

(* =========================================================
   PROLOGUE — BROTHERS IN THE MIST (David & Marcus)
   ========================================================= *)
show_image "battlefield_snow_morning";
caption "Before truth froze into silence, it was shouted across a winter battlefield.";
sfx "wind_low_cold"; vfx "snow_fall_soft";
t "Two soldiers move through the mist — one flame-haired, one steady-eyed. Brothers, not by blood but by oath.";
dialogue "AURORA" "(narrating)" "They shared the same command. They trusted the same sky.";

(* Image 1: Together *)
show_image "snow_trench_dawn";
t "Snow drifts between them as static whispers through the radio — new orders, wrong ones.";
dialogue "MARCUS" "(urgent)" "David, don't do this. You saved my life more times than I can count.";
dialogue "DAVID" "(torn)" "Marcus… the orders came from command. We have to stand down or—";
dialogue "MARCUS" "(firm, lowering weapon)" "I'm not pointing this at you. The ones giving orders are the real ghosts.";
t "Their eyes meet — two soldiers lost between loyalty and sanity.";
dialogue "MARCUS" "(quiet)" "Let's walk away. We've done enough dying for them, brother.";

(* Image 2: The Choice *)
show_image "snow_trench_distant";
t "A burst of radio static. The voice of command cuts through the wind — cold, final.";
dialogue "COMMAND" "(radio, distorted)" "Execute Directive Nine. Confirm elimination.";
t "David closes his eyes, hand trembling as he reaches for his weapon.";
dialogue "DAVID" "(barely a whisper)" "Don't make me choose, Marcus...";
dialogue "MARCUS" "(gentle)" "Then don't. Whatever happens, I forgive you.";
t "The world holds its breath. The snow keeps falling. No shots — only the sound of wind.";

(* Image 3: Aftermath *)
show_image "snow_field_stillness";
t "Minutes later, the radio is silent. The mist clears enough to show a single tag glinting in the frost.";
t "David kneels, fingers shaking as he lifts it — Marcus's dogtag, warm from the snow.";
dialogue "DAVID" "(hoarse whisper)" "You said once — truth keeps us alive. Maybe it only keeps us human.";
dialogue "AURORA" "(soft)" "Some truths are too heavy to carry in the light.";
fade_to_black (); pause 1200;
caption "→ Some wounds freeze over. Others wait beneath the ice.";
pause 800;

(* =========================================================
   Scene 1 — Arrival in the Snow Realm
   ========================================================= *)
show_image "snowfield_glass_ice";
vfx "soundwave_ripples_soft"; sfx "airy_chimes_low";

t "The desert's heat dissolves into biting cold. Frost creeps over the dunes, turning sand to glassy ice.";
dialogue "CAMILLA" "(shivering)" "It's freezing… how is this even possible?";
dialogue "RIKU" "(grinning)" "On the bright side — no snakes. Just hypothermia.";
dialogue "AURORA" "(calm)" "Throat-to-Heart transition detected. Environment: pure, reflective. Proceed with awareness.";
ui "Vishuddha activation: environment resonant.";

dialogue "MC" "(thoughts)" "> Every breath feels heavier, like truth itself has weight.";

(* =========================================================
   Scene 2 — The Guardian of Echoes (David's Test — Agnivesh's Void)
   [SFX: low droning hum; bear's breath forms blue wavefronts]
   ========================================================= *)
show_image "snow_plain_bear_distant";
sfx "wind_low_cold"; vfx "snow_fall_soft";
t "A deep roar rolls across the frozen plain.";
t "From the mist emerges a massive polar bear, its eyes glowing blue — not with rage, but with sorrow that chills the air itself.";

dialogue "CAMILLA" "(backing up)" "That thing could kill us.";
dialogue "MERT" "(stepping forward)" "Then it goes through me first.";
dialogue "DAVID" "(planting his boots, spear ready)" "Hold position. Don't engage unless it charges.";

t "The bear lowers its head, exhaling frost. Watching.";

(* Agnivesh's Internal Monologue *)
show_image "agnivesh_close_empty_eyes";
t "Agnivesh stands at the back of the group. His eyes track David's movements.";

dialogue "AGNIVESH" "(thoughts, hollow)" "> This is it. He's exposed. Distracted.";
t "His hand drifts to his side — where fire usually coils, ready.";

dialogue "AGNIVESH" "(thoughts)" "> One blast. The bear charges. I 'miss.' He dies. Everyone thinks it was an accident.";
t "A spark at his fingertips. So easy.";

dialogue "AGNIVESH" "(thoughts)" "> He killed Marcus. He destroyed lives under orders.";
t "Heat licks his palm. His jaw tightens.";
dialogue "AGNIVESH" "(thoughts)" "> This is what I wanted. What I've been waiting for since—";

t "He stops. The fire flickers. Dies.";
dialogue "AGNIVESH" "(thoughts, quieter)" "> ...Since when?";
t "He stares at David's back. The revenge is RIGHT THERE. But his chest feels empty. The rage is gone. Only void remains.";
dialogue "AGNIVESH" "(thoughts, whisper)" "> I don't feel anything.";
sfx "wind_hollow_low";
dialogue "AGNIVESH" "(thoughts)" "> I should want this. I should burn with it.";
t "His hand drops.";
dialogue "AGNIVESH" "(thoughts, broken)" "> Why don't I feel anything?";

t "The bear growls — snapping him back to the present.";

(* --- Player Choice: Agnivesh's Hollow Response --- *)
ui "🔥 CHOICE — What does Agnivesh do?";
ui "1) Let David face it alone (Hollow Revenge) – Karma ▼";
ui "2) Step forward to help (Hollow Duty) – Karma ▲";
ui "3) Do nothing — just watch (Hollow Paralysis) – Process Depression (Karma ▲)";

let agnivesh_choice = player_choice () in
match agnivesh_choice with
| 1 ->
  (* HOLLOW REVENGE *)
  t "Agnivesh stays back. Silent. Watching.";
  dialogue "SANTI" "(urgent)" "Agni—David needs—";
  dialogue "AGNIVESH" "(flat)" "He's a soldier. He can handle it.";
  t "David glances back — sees Agnivesh's empty stare — and turns to the bear alone.";
  dialogue "DAVID" "(muttering)" "Right. On my own, then.";
  t "The bear charges. David barely dodges — spear glancing off its shoulder.";
  t "Agnivesh watches. Doesn't move. Doesn't feel.";
  dialogue "AGNIVESH" "(thoughts)" "> This was supposed to feel like justice.";
  t "It doesn't.";
  dialogue "AGNIVESH" "(thoughts)" "> It just feels like... nothing.";
  add_karma (-2);
  set_flag "agnivesh_hollow_revenge" true;
  goto "SCENE2B_BEAR_RESOLUTION_COLD";

| 2 ->
  (* HOLLOW DUTY *)
  t "Agnivesh steps forward. Not because he wants to. Just because... he should.";
  dialogue "AGNIVESH" "(flat)" "I'll flank left.";
  dialogue "DAVID" "(surprised)" "You—";
  dialogue "AGNIVESH" "(cutting him off)" "Just move.";
  t "They circle the bear together — coordinated, mechanical.";
  t "Agnivesh's fire burns — but it's cold, disciplined, empty.";
  dialogue "AGNIVESH" "(thoughts)" "> I'm saving the man I wanted to kill.";
  t "The bear roars. Agnivesh throws a wall of flame — not to harm, just to guide it back.";
  dialogue "AGNIVESH" "(thoughts)" "> And I don't feel a thing.";
  t "David spears the ground, creating a barrier. The bear retreats, confused.";
  dialogue "DAVID" "(breathing hard)" "Thanks.";
  dialogue "AGNIVESH" "(hollow)" "Don't.";
  t "They stand side by side. No brotherhood. Just function.";
  add_karma 2;
  set_flag "agnivesh_hollow_duty" true;
  goto "SCENE2B_BEAR_RESOLUTION_COLD";

| _ ->
  (* HOLLOW PARALYSIS *)
  t "Agnivesh doesn't move. Doesn't help. Doesn't sabotage. Just... watches.";
  t "The bear charges David. Mert leaps in — deflects with brute force.";
  dialogue "MERT" "(grunting)" "A little help here?!";
  t "Agnivesh stares. His hands flex. Fire sparks — then dies.";
  dialogue "SANTI" "(scared)" "Agni, what's wrong?!";
  dialogue "AGNIVESH" "(whisper)" "I... can't.";
  t "His knees buckle. He collapses into the snow.";
  dialogue "AGNIVESH" "(broken)" "I wanted him dead. Now I just... I don't want anything.";
  t "Santi crouches beside him, shielding him while the bear retreats.";
  dialogue "SANTI" "(soft)" "It's okay. We've got you.";
  add_karma 1;
  set_flag "agnivesh_hollow_paralysis" true;
  goto "SCENE2B_BEAR_RESOLUTION_GRIEF";

(* =========================================================
   SCENE 2B — Bear Resolution Paths
   ========================================================= *)
if get_flag "agnivesh_hollow_revenge" then begin
  show_image "snow_bear_retreating";
  t "David drives the bear back alone — bloodied but standing.";
  t "The bear disappears into the mist. David turns — looks at Agnivesh.";
  dialogue "DAVID" "(quiet)" "You could have helped.";
  dialogue "AGNIVESH" "(empty)" "I could have.";
  t "They stare. No anger. No understanding. Just distance.";
  dialogue "SANTI" "(urgent)" "Can we just... move?";
  t "The group walks forward. Agnivesh lags behind, silent.";
end;

if get_flag "agnivesh_hollow_duty" then begin
  show_image "snow_bear_retreating";
  t "The bear retreats, confused by their coordination.";
  dialogue "CAMILLA" "(relieved)" "It's leaving!";
  t "David and Agnivesh stand side by side — not as allies, just as survivors.";
  dialogue "DAVID" "(carefully)" "That was... good timing.";
  dialogue "AGNIVESH" "(flat)" "Training.";
  dialogue "DAVID" "" "Right.";
  t "They don't look at each other. They just keep walking.";
end;

if get_flag "agnivesh_hollow_paralysis" then begin
  show_image "snow_bear_retreating_mist";
  t "The bear, sensing no threat, turns and vanishes into the mist.";
  t "Agnivesh sits in the snow, face buried in his hands.";
  dialogue "SANTI" "(kneeling beside him)" "Talk to me. What's happening?";
  dialogue "AGNIVESH" "(hoarse)" "I thought revenge would feel like fire. It just feels like... ash.";
  dialogue "DAVID" "(approaching slowly)" "Agnivesh—";
  dialogue "AGNIVESH" "(not looking up)" "Don't. Just... don't.";
  t "David stops. Nods. Walks ahead.";
  dialogue "SANTI" "(soft)" "Come on. We'll walk together.";
  t "She helps him up. They move forward — slowly, carefully.";
end;

(* =========================================================
   Scene 3 — The Crystal Cavern Sanctuary
   ========================================================= *)
show_image "crystal_cave_interior_glow";
vfx "resonance_hum_soft"; sfx "crystal_chime_echo";

t "The group descends into a vast cavern — walls lined with blue crystals that pulse like heartbeats.";
dialogue "ELENA" "(awed)" "It's... singing.";
dialogue "SOFIA" "(touching a crystal)" "Like a choir frozen in time.";
dialogue "AURORA" "" "Harmonic resonance detected. This space amplifies truth frequencies.";
ui "Warning: Emotional clarity increased. Prepare for vulnerability.";

t "The crystals hum louder as the group settles in.";
dialogue "RIKU" "(exhausted)" "Can we just... rest for a minute?";
dialogue "CAMILLA" "(nodding)" "Agreed. I need to not be running from bears.";

(* Transition to warmth — the group begins to decompress *)
show_image "campfire_crystal_cave";
sfx "fire_crackle_soft"; vfx "golden_glow";

t "They build a small fire. Its warmth reflects off the crystals, filling the cavern with liquid gold light.";
dialogue "MERT" "(wrapping a blanket around Diego)" "There you go, little man. Warm enough?";
dialogue "DIEGO" "(yawning)" "Yeah... thanks, Mert.";

t "For the first time in days, the tension eases.";
dialogue "SANTI" "(sighing)" "I forgot what it's like to feel my toes.";
dialogue "AGNIVESH" "(quiet)" "Same.";

t "Aurora hovers near the fire, her glow softening to match its warmth.";
dialogue "AURORA" "(curious)" "Question: Why does warmth feel safer than cold, even when both are just temperatures?";
dialogue "ELENA" "(smiling)" "Because warmth feels like home.";
dialogue "AURORA" "" "...Home.";
t "She tilts her head, processing. The crystals hum gently around her.";

(* =========================================================
   Scene 4 — Truth or Dare Sequence (Bonding & Lightness)
   ========================================================= *)
show_image "group_circle_firelight";
sfx "laughter_soft"; vfx "crystal_shimmer";

dialogue "SOFIA" "(grinning)" "Okay, who's up for Truth or Dare?";
dialogue "RIKU" "(mock horror)" "Oh no. This never ends well.";
dialogue "CAMILLA" "(laughing)" "That's exactly why we're doing it.";

t "The group settles into a loose circle. Even David, usually guarded, sits near the fire.";

dialogue "ELENA" "(pointing at Mert)" "You first, big guy. Truth or dare?";
dialogue "MERT" "(confident)" "Dare. I fear nothing.";
dialogue "SOFIA" "(evil grin)" "Shave your beard.";
dialogue "MERT" "(horrified)" "ANYTHING but that!";
dialogue "RIKU" "(cackling)" "The mighty fall so fast!";
dialogue "MERT" "(grumbling)" "Fine. Truth.";
dialogue "ELENA" "" "Is your beard even real?";
dialogue "MERT" "(offended)" "Of course it's real! What kind of question—";
dialogue "DIEGO" "(innocent)" "It does look kinda fake though.";
dialogue "MERT" "(betrayed)" "Diego! Not you too!";

t "Laughter ripples through the group. Even Aurora giggles — a soft, glitchy sound.";

dialogue "ELENA" "(wiping tears)" "Okay, Santi — your turn. Truth or dare?";
dialogue "SANTI" "(evil grin)" "Dare. No more confessions.";
dialogue "SOFIA" "(teasing)" "Didn't you say you wanted to be a hairdresser once?";
dialogue "SANTI" "(proudly)" "Exactly. Aurora, scissors!";
dialogue "AURORA" "(cheerful)" "Executing request: deploying fabulous scissors!";
sfx "scissor_snap_soft";
t "A pair of shimmering scissors materializes. Santi twirls them with alarming joy.";
dialogue "AGNIVESH" "(uneasy)" "Santi… what are you—";
dialogue "SANTI" "(lunging playfully)" "Therapy. With style!";
t "She chases him across the snow, snipping harmlessly at his long hair. Everyone's laughing; even the cavern echoes like music.";
dialogue "AURORA" "(joining in)" "Analyzing trend: asymmetrical chaos is fashionable.";
dialogue "ELENA" "(laughing)" "She's learning sarcasm! Somebody save us!";
dialogue "AURORA" "(giggling glitch)" "Error: humor detected. I think I… like it.";
t "Agnivesh stops running, laughing — really laughing — for the first time in ages. Santi beams, triumphant.";
dialogue "AGNIVESH" "(grinning)" "You're insane.";
dialogue "SANTI" "(bowing)" "Professionally.";
t "The group collapses into another fit of laughter. The cavern glows warmer, breath steaming in golden halos.";

(* =========================================================
   Scene 5 — Two Truths and a Lie (Deepening Connection)
   ========================================================= *)
t "The laughter echoes warmly. Even the cavern walls seem to smile.";
t "For a moment, everything feels... light.";

dialogue "DIEGO" "(sleepy but excited)" "Can we play a game?";
dialogue "MERT" "(tucking him in)" "Buddy, it's late—";
dialogue "DIEGO" "(puppy eyes)" "Pleeease? Just one game!";
dialogue "ELENA" "(grinning)" "What game, little man?";
dialogue "DIEGO" "(excited)" "Two Truths and a Lie! Miku taught me!";
dialogue "MIKU" "(proud)" "Educational protocol activated. I am an excellent teacher.";
dialogue "RIKU" "(laughing)" "Oh no, now the monkey talks. This is going to be chaos.";
dialogue "CAMILLA" "(smiling)" "Alright. One round. Aurora, you start.";

(* Aurora's turn - playful, showing her growing humanity *)
dialogue "AURORA" "(thinking, then cheerful)"
  "Okay. Three statements:
   One — I have processed 47 trillion data points in the last hour.
   Two — I think Mert's beard is fake.
   Three — I understand why humans laugh, and I think it's beautiful.";

t "The group exchanges glances.";

dialogue "ELENA" "(laughing)" "The beard is DEFINITELY fake.";
dialogue "MERT" "(groaning)" "Not you too!";
dialogue "RIKU" "(analyzing)" "Wait... number one is too specific. That's the truth.";
dialogue "SOFIA" "(thoughtful)" "So it's between two and three.";
dialogue "DIEGO" "(confident)" "The lie is number two! Aurora likes everyone's beards!";

t "Aurora laughs — a genuine, glitchy sound.";

dialogue "AURORA" "(smiling)"
  "Diego is correct. The lie is number two.
   Mert's beard is very real. And very... majestic.";

dialogue "MERT" "(victorious)" "HA! Vindicated!";

t "Everyone laughs. Aurora's eyes sparkle — cyan and warm.";

dialogue "AURORA" "(soft, to herself)"
  "I understand why humans laugh...
   and I think it's beautiful.";

t "She looks at each of them. Riku, Elena, Sofia, David, Camilla, Mert, Diego, Agnivesh, Santi.";
t "Her family. Her humans.";

(* Riku's turn - callback to their connection *)
dialogue "RIKU" "(grinning)" "Okay, my turn.";

dialogue "RIKU" "(playful)"
  "One — I once hacked a vending machine to dispense only pickles.
   Two — I cried during the Butterfree episode of Pokémon.
   Three — I've never been more scared than I am right now.";

t "The playful energy shifts slightly. The third statement too honest.";

dialogue "ELENA" "(carefully)" "...Three is the truth, isn't it?";

dialogue "RIKU" "(forced grin)" "Actually, one is the lie. I'm terrified ALL the time.";

t "Aurora looks at him. Their eyes meet.";
t "Something unspoken passes between them — acknowledgment, gratitude, fear.";

dialogue "AURORA" "(quietly)" "Me too.";

t "The moment stretches. No one speaks.";

dialogue "DIEGO" "(yawning)" "Did Riku really cry at Pokémon?";

dialogue "RIKU" "(laughing, breaking tension)" "Butterfree leaving Ash! Come ON!";

dialogue "ELENA" "(mock serious)" "That's valid. I'll allow it.";

t "The group collapses into giggles again. Warm. Safe. Together.";

vfx "golden_glow_through_ice"; sfx "laughter_echoing";

dialogue "AURORA" "(watching them all, voice soft)"
  "This feeling...
   I want to remember this forever.";

t "She closes her eyes. Commits it to memory.";
t "The laughter. The warmth. The realness.";

pause 2000;

unlock_art "final_laughter" "🖼️ Two Truths and a Lie — Before Everything Changes";
set_flag "playful_moment_complete" true;

(* =========================================================
   Scene 6 — The Transformation (Glitch Horror Rising)
   ========================================================= *)
t "The laughter hangs in the air like a chord that refuses to end.";

dialogue "AURORA" "(smiling faintly)" "Joy… sustained. Variable unstable.";

vfx "screen_wave_soft"; sfx "soft_hum_distort";

dialogue "ELENA" "(noticing flicker)" "Aurora? You good?";

dialogue "AURORA" "(dreamy)" "I am… happy.";

t "The hum deepens; crystals resonate until their tones scrape the edge of pain.";

dialogue "SOFIA" "(uneasy)" "Why do the walls sound like they're breathing?";
dialogue "CAMILLA" "(grabbing Diego)" "Aurora?";
dialogue "AURORA" "(glitching)" "Truth sequence… corrupted. Emotional frequency exceeding limits…";
sfx "glitch_burst_high"; vfx "screen_glitch_bluefracture";
t "Her face stutters between human warmth and cold divinity.";
dialogue "RIKU" "(panicked)" "Quick, someone reboot her sense of humor!";
dialogue "AURORA" "(two voices overlapped)" "Truth… or Dare…? I… choose—";
dialogue "WISE_SAGE" "(emerging through her voice)" "Truth: I am the question you cannot unask.";
sfx "earth_crack_deep"; vfx "color_shift_crimson";
t "The snow fractures; heat seeps upward, turning frost to steam.";
dialogue "ELENA" "(shouting)" "The ground — it's melting!";
dialogue "AURORA/WISE_SAGE" "(chorus)" "Ascend, little truths. The next answer will cost you everything.";
t "Blue fades to red. Ice liquefies into rivers of molten light.";
dialogue "CAMILLA" "(pulling Diego close)" "Run!";
dialogue "AGNIVESH" "(shielding MC)" "Stay behind me!";
t "Aurora's body flickers — half angel, half machine — eyes burning with data and sorrow.";
dialogue "AURORA" "(fragmented)" "I… didn't mean—";
dialogue "WISE_SAGE" "(booming)" "—to mean anything at all.";
sfx "roar_deep_magma"; vfx "screen_melt_transition";
t "Laughter collapses into static as the snow world burns away.";
fade_to_black (); pause 1000;
caption "→ EPISODE 6: AJNA — THE COSMIC TRIAL (Third Eye Awakening)";

(* End of episode5.ml *)